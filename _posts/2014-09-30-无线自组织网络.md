---
layout: out
---
#无线自组织网络

无线自组网是由一群兼具终端及路由功能的设备通过无线链路形成的无中心、多跳、临时性自治系统。

- 多跳：节点发射功率有限，远距离通信需要依靠其它节点中继，每个节点既是终端又是路由器；
- 无中心：网络中不存在任何控制中心，节点之间相互协作构成网络；
- 临时性：为特殊目的而建立，应用完成即拆除。

**无线自组网的特点**

- 拓扑动态变化
- 存在单向链路
- 节点能量有限
- 安全性差

**无线自组网的主要研究问题**

- 信道接入（MAC协议）：多跳共享广播信道的介质访问控制；
- 路由协议：网络拓扑的动态变化导致路由信息收集困难，路由算法难收敛，路由经常中断需要重建；
- 网络安全：分布式认证和密钥管理，防御入侵。

**路由问题**

无线自组网的动态拓扑特性：节点移动、失效及链路时变等导致网络拓扑经常变化，拓扑信息的有效性降低。

对移动自组网有用的拓扑假设是：物理上靠近的节点在网络拓扑上也可能靠近。

##自组网路由协议的分类

- 单播路由和多播路由
- 单路径路由和多路径路由

其中单路径路由：

- 基于拓扑的路由：基于节点间连接关系计算路由表，包括有积极路由，按需路由；
- 基于位置的路由

###积极路由协议——DSDV

Destination-Sequenced Distance Vector

距离矢量算法：

1. 每个节点维护一张路由表，网络中每个节点在此表中占有一个表项；
2. 每个表项包括：去往该目的节点的最佳输出路线（下一跳），估计到该目的节点的最短距离；
3. 每隔一段时间，每个节点向其所有邻居发送一个距离矢量，通报从本节点到其它各个节点的估算距离；
4. 每个节点利用从邻居节点收到的距离矢量来更新自己的路由表。

**DSDV选择路由的原则**

节点选择路由的原则：

- 采用目的需要最新的路由，丢弃较早序号的路由；
- 若目的序号相等，采用较小跳数的路由。

路由发布：

- 被采纳的路由跳数加1，目的序号不变，在下一次路由更新中发布给邻居节点。

**检测链路中断**

- 当节点检测到与某个邻居节点的链路中断时，将以该邻居为下一跳的所有路由的跳数标记为“无穷大”，并为这些路由分配新的序号；
- 为与目的节点产生的序号相区分，规定目的节点产生的序号为偶数，中间节点产生的序号为奇数；
- 当节点收到一个“无穷大”跳数，随后又收到一个序号更高的、具有有限跳数的路由时，节点用“真实”的序号代替该路由，并触发一次路由更新广播。

**DSDV的缺点**

- 消息开销大（O（n^2）），限制了网络的规模；
- 节点需要维护大量当前不活跃的路由，浪费了不少资源。（积极路由的共同缺点）。

###按需路由协议——AODV
Ad-Hoc On-demand Distance Vector

AODV也是基于距离矢量的路由协议，但是仅当需要一条路由通信时，才由源节点启动路由发现过程。

与DSDV相比，不在活跃路径上的节点不维护任何路由信息，也不参与任何周期性的路由表交换，因此可极大地减小路由消息的开销。

**AODV的基本思想**

- 当源节点希望向某个目的节点发送数据，但当前路由表中并无该节点的路由信息时，启动路由发现过程。
- 源节点向其邻居广播一个RREQ（路由请求）消息，进行路由探测。
- 每个收到RREQ的节点向其邻居扩散该消息，直至消息到达一个知晓目的节点路由的节点。
- 该中间节点或目的节点向源节点发送一个RREP（路由响应）消息，RREP在返回源节点的过程中，在每个中间节点建立起到目的节点的路由。

**要解决的问题**

- 如何使RREP返回源节点：所有转发RREQ消息的节点记录到源节点的路径（方向路径），收到RREP消息后，沿反向路径发往源节点。
- 如何区分路由的新旧：路由序号；
- 如何区分消息的新旧：消息序号。

**RREQ消息的组成**

RREQ消息包含<源地址，源序号，广播ID，目的地址，目的序号，跳数>6个域：

- <源地址，广播ID>二元组唯一标识一个RREQ消息；
- 源序号：用户维护方向路径的新鲜性；
- 目的序号：可被源节点接受的正向路径的新鲜程度；
- 跳数：距离源节点的跳数。

**RREP消息的组成**

RREP消息包含<源地址，目的地址，目的序号，到目的地址的跳数，生存时间>。

###基于拓扑的路由算法的扩放性

对路由算法扩放性影响最大的两个因素：

- 网络拓扑的变化频率
- 路由域中的节点数目

直观上，拓扑改变产生的更新开销等于状态改变频率乘以节点数量。

因此，基于拓扑的路由算法一般而言对于节点移动的适应性较差。

###基于地理位置的路由

假设：

- 节点能够通过GPS或其他方式知道自己的位置坐标；
- 源节点知道目的节点的位置坐标，并将其标记在数据包头中；
- 每个节点知道其所有一跳邻居的位置坐标。

**贪婪转发**

基于位置的路由一般使用贪婪转发，与目的节点距离最近的邻居成为下一跳，数据包在物理距离上不断接近直至到达目的节点。

优点：只需知道一跳邻居的位置，从而节点需要维护的状态数（一跳邻居集合）很少。

**基于地理位置路由的特点**

- 进行转发决策时，只需局部位置信息，不需要路由表；
- 不需要维护网络拓扑信息；
- 但需要解决节点的位置更新问题。

##无线自组网的MAC协议

难点：

- 多跳网络中的隐藏终端和暴露终端问题：基于CSMA的MAC协议不再适用；
- 节能要求：需考虑功率管理（节点休眠）或功率控制，复杂度高。

基于MACA协议解决隐藏终端和暴露终端问题，Multiple Access with Collision Avoidance。

**MACA**

- 与CSMA避免在发送端产生冲突不同，MACA避免在接收端产生冲突；
- MACA使用RTS-CTS交换解决了一部分的隐藏终端和暴露终端问题。

###MACAW （MACA for Wireless）

MACAW使用RTS-CTS-DS-DATA-ACK传输序列，引入ACK确认机制提高了错误恢复的速度；引入RRTS机制，提高隐藏终端获取信道的公平性；仍不能完全解决暴露终端的问题。

###802.11的MAC协议

两种操作模式：

- PCF模式只能用于有基础设施的无线网络；
- DCF模式既可用于自组织网络也可用于有基站的无线网络，所有协议实现都必须支持DCF模式。

DCF模式采用CSMA/CA作为MAC层协议，每个节点在发送前都要监听信道，当信道空闲时有两种操作方法：

- 使用RTS-CTS机制预约信道
- 不使用RTS-CTS预约机制

**CSMA/CA与CSMA/CD的比较**

使用的传输介质不同：

- CSMA/CD应用于有线介质，节点在发送的同时可以监听信道；
- CSMA/CA应用于无线介质，节点在发送的时候无法监听信道。

隐藏终端与暴露终端问题：

- CSMA/CD应用于单跳共享网络，所有通信过程及冲突可以检测到，没有隐藏终端和暴露终端问题；
- CSMA/CA应用于多跳共享网络，有些通信过程检测不到，存在隐藏终端与暴露终端问题。

802.11的MAC协议不适合多跳自组网，因为它假设节点的时钟是同步的。

###PCM（Power Control MAC）

PCM方案需要对接收信号强度有相当精确的估计，因此由信道衰减、遮蔽等因素引起的无线信号传播的动态性会影响性能。

在不同发送功率之间频繁切换，在实现上是很困难的。

##无线自组网跨层设计

跨层设计：允许位于不同层上的协议相互合作，在保持分层的前提下共享网络状态信息，从而达到优化整个系统性能的目的。

